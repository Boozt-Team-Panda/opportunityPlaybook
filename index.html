<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Boozt Product Opportunity Playbook</title>
    <!-- Load Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <!-- Load Marked.js for Markdown parsing -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <style>
        /* Import Suisse Int'l font */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');
        
        :root {
            /* Spacing Tokens */
            --spacing-xs: 4px;
            --spacing-s: 8px;
            --spacing-m: 16px;
            --spacing-l: 24px;
            
            /* Color Tokens - Neutral */
            --color-neutral-white: #ffffff;
            --color-neutral-black: #121212;
            --color-neutral-gray-50: #f5f5f5;
            --color-neutral-gray-100: #e5e5e8;
            --color-neutral-gray-200: #bbbbbb;
            --color-neutral-gray-300: #adaeb3;
            --color-neutral-gray-600: #4c4d52;
            --color-neutral-gray-800: #2a252c;
            
            /* Color Tokens - Brand Boozt */
            --color-brand-boozt-50: #fbf6f1;
            --color-brand-boozt-100: #eae4dc;
            --color-brand-boozt-500: #4c4d52;
            --color-brand-boozt-700: #302a32;
            --color-brand-boozt-900: #241d26;
            
            /* Color Tokens - Brand BooztPay */
            --color-brand-booztpay-500: #407d6e;
            --color-brand-booztpay-700: #366a5d;
            --color-brand-booztpay-900: #24473e;
            
            /* Color Tokens - Brand Booztlet */
            --color-brand-booztlet-50: #121212;
            --color-brand-booztlet-500: #00c799;
            --color-brand-booztlet-700: #00dba8;
            
            /* Semantic Colors */
            --color-primary: #241d26;
            --color-on-primary: #fbf6f1;
            --color-surface: #ffffff;
            --color-on-surface: #121212;
            --color-surface-variant: #f5f5f5;
            --color-on-surface-variant: #4c4d52;
            --color-outline: #adaeb3;
            --color-outline-variant: #e5e5e8;
            --color-background: #ffffff;
            --color-on-background: #121212;
            --color-info: #407d6e;
            --color-on-info: #ffffff;
            --color-info-container: #fbf6f1;
            --color-on-info-container: #407d6e;
            
            /* Border Radius Tokens */
            --corner-radius-sharp: 0;
            --corner-radius-small: 8px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', 'Suisse Int\'l', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--color-background);
            color: var(--color-on-background);
            line-height: 1.6;
            min-height: 100vh;
            padding: var(--spacing-l);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        /* Custom styles for smooth transitions */
        .section-content {
            max-height: 0;
            opacity: 0;
            transition: max-height 0.5s ease-in-out, opacity 0.5s ease-in-out, margin-top 0.5s ease-in-out;
            overflow: hidden;
        }

        .section-content.open {
            max-height: 1000px; /* Large enough value to cover content, adjust if sections become extremely long */
            opacity: 1;
            margin-top: var(--spacing-m);
        }

        .section-toggle-icon {
            transition: transform 0.3s ease-in-out;
        }

        .section-toggle-icon.open {
            transform: rotate(0deg); /* When open, it's a minus, so no rotation needed if starting as + */
        }
        
        /* Markdown content styling */
        .markdown-content h1 {
            font-size: 32px;
            font-weight: 600;
            color: var(--color-primary);
            margin-bottom: var(--spacing-s);
            line-height: 1.2;
        }
        
        .markdown-content h2 {
            font-size: 20px;
            font-weight: 500;
            color: var(--color-primary);
            margin-bottom: var(--spacing-s);
            margin-top: var(--spacing-m);
        }
        
        .markdown-content h3 {
            font-size: 18px;
            font-weight: 500;
            color: var(--color-primary);
            margin-top: var(--spacing-m);
            margin-bottom: var(--spacing-s);
        }
        
        .markdown-content p {
            margin-bottom: var(--spacing-m);
            color: var(--color-on-surface);
            line-height: 1.6;
        }
        
        .markdown-content ul, .markdown-content ol {
            margin-left: var(--spacing-m);
            margin-bottom: var(--spacing-m);
        }
        
        .markdown-content li {
            margin-bottom: var(--spacing-s);
        }
        
        .markdown-content strong {
            font-weight: 500;
        }
        
        .markdown-content em {
            font-style: italic;
        }
        
        .markdown-content pre {
            background-color: var(--color-surface-variant);
            padding: var(--spacing-m);
            border-radius: var(--corner-radius-small);
            font-size: 13px;
            white-space: pre-wrap;
            margin-bottom: var(--spacing-m);
            color: var(--color-on-surface);
            overflow-x: auto;
        }
        
        .markdown-content code {
            background-color: var(--color-surface-variant);
            padding: 2px 4px;
            border-radius: 4px;
            font-size: 13px;
        }
        
        .markdown-content table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: var(--spacing-m);
        }
        
        .markdown-content th {
            background-color: var(--color-surface-variant);
            padding: var(--spacing-s) var(--spacing-m);
            text-align: left;
            font-size: 12px;
            font-weight: 500;
            color: var(--color-on-surface-variant);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--color-outline-variant);
        }
        
        .markdown-content td {
            padding: var(--spacing-s) var(--spacing-m);
            border-bottom: 1px solid var(--color-outline-variant);
            color: var(--color-on-surface);
        }
        
        .markdown-content td:first-child {
            white-space: nowrap;
            font-weight: 500;
            color: var(--color-primary);
        }
    </style>
</head>
<body>

    <div class="container">
        <header style="text-align: center; margin-bottom: var(--spacing-l); padding-bottom: var(--spacing-l); border-bottom: 1px solid var(--color-outline-variant);">
            <h1 style="font-size: 48px; font-weight:700; color: var(--color-primary); margin-bottom: var(--spacing-s); line-height: 1.2;">
                <span style="display: block; margin-bottom: var(--spacing-s);">Boozt Product Opportunity</span>
                <span style="display: block; color: var(--color-info);">Playbook</span>
            </h1>
            <p style="font-size: 15px; color: var(--color-on-surface-variant); max-width: 600px; margin: 0 auto;">
                Guiding our journey from ideas to impactful outcomes.
            </p>
        </header>

        <div id="playbook-content" class="markdown-content">
            <!-- Content will be loaded here -->
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            // Initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }

            // Load and render markdown content
            try {
                const response = await fetch('playbook-content.md');
                const markdownText = await response.text();
                
                // Configure marked options
                marked.setOptions({
                    breaks: true,
                    gfm: true
                });
                
                // Parse markdown to HTML
                const htmlContent = marked.parse(markdownText);
                
                // Insert into the content container
                document.getElementById('playbook-content').innerHTML = htmlContent;
                
                // Re-initialize Lucide icons for the new content
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }
                
                // Initialize accordion functionality for markdown sections
                initializeAccordion();
                
            } catch (error) {
                console.error('Error loading markdown content:', error);
                document.getElementById('playbook-content').innerHTML = 
                    '<p style="color: var(--color-error);">Error loading content. Please ensure playbook-content.md is available.</p>';
            }
        });

        function initializeAccordion() {
            // Find all h2 elements (section headers) in the markdown content
            const sectionHeaders = document.querySelectorAll('#playbook-content h2');
            
            sectionHeaders.forEach((header, index) => {
                // Create a wrapper div for each section
                const sectionWrapper = document.createElement('div');
                sectionWrapper.style.cssText = 'margin-bottom: var(--spacing-l); background-color: var(--color-surface); padding: var(--spacing-l); border-radius: var(--corner-radius-small); border: 1px solid var(--color-outline-variant);';
                
                // Create the button
                const button = document.createElement('button');
                button.className = 'section-button';
                button.style.cssText = 'width: 100%; display: flex; justify-content: space-between; align-items: center; text-align: left; background: none; border: none; cursor: pointer; padding: 0;';
                
                // Create the header content with icon
                const headerContent = document.createElement('div');
                headerContent.style.cssText = 'font-size: 20px; font-weight: 500; color: var(--color-primary); flex-grow: 1; padding-right: var(--spacing-m); display: flex; align-items: center; gap: var(--spacing-s);';
                
                // Add appropriate icon based on section number
                const iconName = getIconForSection(index + 1);
                const icon = document.createElement('i');
                icon.setAttribute('data-lucide', iconName);
                icon.style.cssText = 'width: 20px; height: 20px; color: var(--color-info);';
                
                // Clone the header text and remove it from original position
                const headerText = header.cloneNode(true);
                headerText.style.cssText = '';
                
                headerContent.appendChild(icon);
                headerContent.appendChild(headerText);
                
                // Create toggle icon
                const toggleIcon = document.createElement('span');
                toggleIcon.className = 'section-toggle-icon';
                toggleIcon.style.cssText = 'color: var(--color-on-surface-variant); font-size: 24px;';
                toggleIcon.textContent = index === 0 ? '-' : '+'; // First section open by default
                
                button.appendChild(headerContent);
                button.appendChild(toggleIcon);
                
                // Create content container
                const contentDiv = document.createElement('div');
                contentDiv.className = 'section-content';
                if (index === 0) {
                    contentDiv.classList.add('open');
                }
                
                // Move all content after this header until the next h2 into the content div
                let nextElement = header.nextElementSibling;
                while (nextElement && nextElement.tagName !== 'H2') {
                    const elementToMove = nextElement;
                    nextElement = nextElement.nextElementSibling;
                    contentDiv.appendChild(elementToMove);
                }
                
                // Assemble the section
                sectionWrapper.appendChild(button);
                sectionWrapper.appendChild(contentDiv);
                
                // Replace the header with the new section wrapper
                header.parentNode.insertBefore(sectionWrapper, header);
                header.remove();
            });
            
            // Initialize accordion behavior
            const sectionButtons = document.querySelectorAll('.section-button');
            
            sectionButtons.forEach(button => {
                const content = button.nextElementSibling;
                const icon = button.querySelector('.section-toggle-icon');
                
                // Set initial state
                if (!content.classList.contains('open')) {
                    content.style.maxHeight = '0px';
                    content.style.opacity = '0';
                    icon.textContent = '+';
                } else {
                    content.style.maxHeight = content.scrollHeight + 'px';
                    icon.textContent = '-';
                }
                
                button.addEventListener('click', () => {
                    content.classList.toggle('open');
                    icon.classList.toggle('open');
                    
                    if (content.classList.contains('open')) {
                        content.style.maxHeight = content.scrollHeight + 'px';
                        content.style.opacity = '1';
                        icon.textContent = '-';
                    } else {
                        content.style.maxHeight = '0px';
                        content.style.opacity = '0';
                        icon.textContent = '+';
                    }
                });
            });
            
            // Re-initialize Lucide icons after DOM manipulation
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }
        
        function getIconForSection(sectionNumber) {
            const icons = [
                'map-pin',      // 1. Why This Playbook Exists
                'lightbulb',    // 2. Guiding Principles
                'refresh-cw',   // 3. Core Process Overview
                'pin',          // 4. Opportunity Backlog
                'search',       // 5. Pulling Work into Discovery
                'rocket',       // 6. From Discovery to Delivery
                'rotate-ccw',   // 7. Feedback & Learning
                'users',        // 8. Roles & Collaboration
                'compass',      // 9. Product Leadership & Governance
                'folder',       // 10. Templates & Toolkits
                'help-circle',  // 11. FAQ & Edge Cases
                'play'          // 12. Getting Started
            ];
            return icons[sectionNumber - 1] || 'file-text';
        }
    </script>
</body>
</html>
